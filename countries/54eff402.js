/*== socialdemokraternawebb ==*/ 
(()=>{var runLocaly=!1,runLocalyPredict=!1,runLocalyView=("1"==rekGetCookie("localpredict")&&(runLocalyPredict=!0),!1),cssStyles=("1"==rekGetCookie("localview")&&(runLocalyView=!0),".rek-prediction .rek-style p{margin:0}.rek-prediction .rek-style ul{list-style:none;padding:0;margin:0}.rek-prediction .rek-style .rek-prediction__content{margin-bottom:1.5rem}.rek-prediction .rek-style .rek-prediction__content img{margin-bottom:.5rem;max-width:100%}.rek-prediction .rek-style .rek-prediction__title>a{font-size:1.5rem}.rek-prediction .rek-style-cols ul{display:flex;flex-wrap:wrap;justify-content:flex-start}.rek-prediction .rek-style-cols ul li{display:flex;align-items:center;padding:4px}.rek-prediction .rek-style-cols3 li{flex-basis:calc(33.33333% - 8px)}@media (max-width:990px){.rek-prediction .rek-style-cols3 li{flex-basis:calc(50% - 8px)}}@media (max-width:546px){.rek-prediction .rek-style-cols3 li{flex-basis:100%}}.rek-prediction .rek-style-cols3.rek-stripes li{background-color:transparent}.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(6n-3),.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(6n-4),.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(6n-5){background-color:#eee}@media (max-width:990px){.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(n){background-color:transparent}.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(4n+1),.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(4n+2){background-color:#eee}}@media (max-width:546px){.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(2n){background-color:transparent}.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(odd){background-color:#eee}}.rek-prediction .rek-style-cols2 li{flex-basis:calc(50% - 8px)}@media (max-width:546px){.rek-prediction .rek-style-cols2 li{flex-basis:100%}}.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(n){background-color:transparent}.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(4n+1),.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(4n+2){background-color:#eee}@media (max-width:546px){.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(2n){background-color:transparent}.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(odd){background-color:#eee}}.rek-prediction .rek-style-cols1 li{flex-basis:100%}.rek-prediction .rek-style-cols1.rek-stripes li:nth-child(2n){background-color:transparent}.rek-prediction .rek-style-cols1.rek-stripes li:nth-child(odd){background-color:#eee}.rekai-newsarticle-img-wrapper{padding-bottom:43.75%;position:relative;overflow:hidden;height:0;background-color:initial;opacity:1}.rekai-newsarticle-img-wrapper img{position:absolute;display:block;width:100%;object-fit:cover;top:50%;left:50%;min-height:100%;min-width:100%;transform:translate(-50%,-50%);height:100%}.rekai-newsarticle-article-container{padding-left:6px;padding-right:6px;box-sizing:border-box}.rekai-newsarticle-article-container-c1{width:100%}.rekai-newsarticle-article-container-c2{width:50%}.rekai-newsarticle-article-container-c3{width:33%}@media (max-width:767px){div[class*=rekai-newsarticle-article-container-],div[class^=rekai-newsarticle-article-container-]{width:100%}}.rekai-news-wrapper{margin-left:-6px;margin-right:-6px}.env-d--flex{display:-ms-flexbox;display:flex}.rek-d--flex{display:-ms-flexbox;display:flex}.rek-flex-wrap--wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.rek-p-bottom--x-small{padding-bottom:.5em!important}.rek-m-bottom--x-small{margin-bottom:.5em!important}.rek-style-pills{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.rekai-pill{box-sizing:border-box;margin-right:.5rem;border:1px solid #333}.rekai-pill:last-child{margin-right:0}.rekai-pill-link{display:block;padding:.5rem 1rem}.rekai-pills.env-list--horizontal{flex-wrap:wrap}.rekai-pill-radius{border-radius:200px}@media screen and (min-width:767px){.rekai-news-wrapper--img-left .rekai-newsarticle-article{display:grid;grid-template-columns:1fr 1fr;grid-gap:0px 15px;overflow:hidden}.rekai-news-wrapper--img-left .rekai-newsarticle-img-wrapper{grid-row-start:1;grid-row-end:3;height:100%;width:100%}.rekai-news-wrapper--img-left .rekai-newsarticle-img{height:100%;width:100%}.rekai-news-wrapper--img-left .rekai-newsarticle-a{align-self:end}}"),projectId="11621247",viewURL=runLocalyView?"http://localhost:3000/view":"https://view.rekai.se/view",predictUrl=runLocalyPredict?"http://localhost:3000/predict":"https://predict.rekai.se/predict",customerCMS="sitevision",page404title="404",cmsvariant="none",sendviews="all",sendevents="all";try{sendevents=sendevents||""}catch(e){sendevents=""}var sendreferer="true",sendreferer="true"==sendreferer,maxsurfpathdepth="-1";try{maxsurfpathdepth=parseInt(maxsurfpathdepth)}catch(e){maxsurfpathdepth=-1}var saveviewpercentage="1";try{saveviewpercentage=parseFloat(saveviewpercentage)}catch(e){saveviewpercentage=1}var sendcontentview="false",sendcontentview="true"==sendcontentview,saveinlocalstorage="false",saveinlocalstorage="true"==saveinlocalstorage,nroftabstogroup=1;try{nroftabstogroup=parseInt("1"),-1==nroftabstogroup&&(nroftabstogroup=1)}catch(e){}var externalDomains=[];try{var domainstring="";""!=domainstring&&externalDomains.push({savefilter:domainstring})}catch(e){}var isRefresh=!1,shouldSaveClickToDatabase=!1,tabsPathName="rektabs",sentFragmentViews=[],urlChangesArray=(window.overrideObject={},[]),linkPrendered=!1,advancedPrendered=!1,acPrendered=!1,keepCheckingScroll=!0,inViewEventSent=!1,keepCheckingFAQScroll=!0,inViewFAQEventSent=!0,faqAnswerClickBeaconSent=!1,faqToPageClickBeaconSent=!1,eventsAddedToDOM=!1,oneClickEventIsSent=!1,exitExtraInfo={},keepCheckingMouseOver=!0,linkPreamble="",PathHandler=function(){},VisitCalculator=(PathHandler.prototype={getTabNameFromUrl:function(){if(0==nroftabstogroup)return 0;try{var e=window.location.pathname.replace("http://","").replace("https://","").split("/");if(2<e.length){e.shift();for(var t="",n=0,r=0;r<e.length&&(""==e[r]||(t+=e[r],++n!=nroftabstogroup));r++);return(t=-1<t.indexOf(".")?t.substring(0,t.indexOf(".")):t).toLowerCase()}return""}catch(e){return""}},removeNthInString:function(e,t){for(var n=e,r=e.split(""),i=t-1;i<r.length-1;i+=t)r[i]="";return e=""==(e=r.join(""))?n:e},trimAPathString:function(e,t){return-1<(e=(e=(e=(e=e.replace(/\//g,"")).replace(/\./g,"")).replace(/\-/g,"")).replace(/\,/g,"")).indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e="sitevision"!=t&&"custom"!=t?e:this.removeNthInString(e,3)},checkIfStartpage:function(e,t){if("sitevision"==t){if(0==e.indexOf("2."))return!0}else if("custom"==t){if("/"==e||""==e)return!0}else if("wp"==t&&"-1"==e)return!0;return!1},ifTooOldSessionRestart:function(){var e=sessionstorageGetItem("sessionstarttime");if(e){if(29<diff_minutes(new Date(e),new Date))return sessionstorageSetItem("sessionstarttime",(new Date).toString()),!0}else sessionstorageSetItem("sessionstarttime",(new Date).toString());return!1},addToSessionPath:function(e,t){var n,r,i=this.ifTooOldSessionRestart();this.checkIfStartpage(e,t.cms)||(n=this.getSessionPathAsJSON(t),r="sp"+t.projectid,i&&(n={p:[]}),t=this.getTabsPathAsJSON(t),i&&(t={t:[]}),i=this.getTabNameFromUrl(),-1==t.t.indexOf(i)&&""!=i&&(t.t.push(i),sessionstorageSetItem(tabsPathName,JSON.stringify(t))),n.p[n.p.length-1]!=e&&(10<=n.p.length&&n.p.shift(),n.p.push(e)),sessionstorageSetItem(r,JSON.stringify(n)),saveinlocalstorage&&2<n.p.length&&localstorageSetItem(r,JSON.stringify(n)))},getReadSessionPathName:function(e){var t="sp"+e.projectid;return t=e.hasOwnProperty("readdatafromproject")&&void 0!==e.readdatafromproject?"sp"+e.readdatafromproject:t},getAPathFromSessionOrLocal:function(e,t){var n={p:[]},r=null;if(r=("session"==t?sessionstorageGetItem:localstorageGetItem)(e))try{n=JSON.parse(r)}catch(e){n={p:[]}}return n},getSessionPathAsJSON:function(e,t){e=this.getReadSessionPathName(e);return this.getAPathFromSessionOrLocal(e,"session")},getSessionPathAsString:function(e){var t,n=e.cms,r=[],e=this.getReadSessionPathName(e),i=this.getAPathFromSessionOrLocal(e,"session"),a=i;try{saveinlocalstorage&&i.p.length<2&&(t=this.getAPathFromSessionOrLocal(e,"local"))&&0<t.p.length&&(a=t)}catch(e){}var o=0;try{for(var s=a.p.length-1;0<=s;s--)if(!this.checkIfStartpage(a.p[s],n)){var c=encodeURIComponent(a.p[s]);if(-1==r.indexOf(c)&&(r.unshift(c),4==++o))break}}catch(e){return console.log("rek.ai: Error when build session path"),""}for(var d="",s=0;s<r.length;s++)d+="&p"+s+"="+r[s];return d},getTabsPathAsJSON:function(){var t={t:[]};if(sessionstorageGetItem(tabsPathName))try{t=JSON.parse(sessionstorageGetItem(tabsPathName))}catch(e){t={t:[]}}return t},getTabsPathAsString:function(){var t={t:[]},e=[];if(sessionstorageGetItem(tabsPathName))try{t=JSON.parse(sessionstorageGetItem(tabsPathName))}catch(e){t={t:[]}}var n=t.t.length;if(0==n)return"";2<n&&(n=2);for(var r=0;r<n;r++)e.push(t.t[r]);return e.sort(),e.join("")}},function(){}),Renderer=(VisitCalculator.prototype={dig:function(e){return e<10?"0"+e:e},encd:function(e){return e.getFullYear().toString().substring(2,4)+this.dig(e.getMonth()+1)+this.dig(e.getDate())},getVisits:function(t,n){var t="vds"+t.projectid,e=localstorageGetItem(t),r=1,i=1,a=30,o=new Date,s=[];if(""!=e&&e)try{for(var c,d=(c=JSON.parse(localstorageGetItem(t))).vds.length,i=0;d--;){p="20"+(p=c.vds[d]).substring(0,2)+"-"+p.substring(2,4)+"-"+p.substring(4,6);var l=new Date(p);30<Math.round(Math.abs((l.getTime()-o.getTime())/864e5))&&c.vds.splice(d,1),l.setHours(0,0,0,0)==o.setHours(0,0,0,0)&&i++}++i<20&&(n||c.vds.push(this.encd(o))),n||localstorageSetItem(t,JSON.stringify(c));for(r=c.vds.length,d=0;d<c.vds.length;d++){var p,u="20"+(p=c.vds[d]).substring(0,2)+"-"+p.substring(2,4)+"-"+p.substring(4,6);(u=new Date(u)).setHours(0,0,0,0)!=o.setHours(0,0,0,0)&&s.push(u)}s.sort(function(e,t){return t.getTime()-e.getTime()}),0<s.length&&(a=Math.round(Math.abs((o.getTime()-s[0].getTime())/864e5)))}catch(e){c={vds:[this.encd(o)]},n||localstorageSetItem(t,JSON.stringify(c))}else c={vds:[this.encd(o)]},n||localstorageSetItem(t,JSON.stringify(c));return c={vt:i=0==i?1:i,v30:r=0==r?1:r,dlv:a=0==a?30:a}}},function(){}),LinkSorter=(Renderer.prototype={trunkateText:function(e,t){var n;return(e=void 0===e?"":e).length>t&&(t=t+(n=e).substring(t).indexOf(" "),e=n.substring(0,t)+"..."),e},addArrayOfClasses:function(e,t){if(isArray(e))for(var n=0;n<e.length;n++)t.classList.add(e[n]);return t},getAnATag:function(e,t,n,r,i,a){r=r||0;var o=document.createElement("a"),t=(o.onclick=function(){sessionstorageSetItem("rekclick",1)},o.classList.add("rek-link"),""!=t&&o.classList.add(t),i&&"envision"===a?(o.classList.add("env-button"),o.classList.add("env-button--primary"),o.classList.add("env-button--ghost"),o.classList.add("rekai-pill-radius")):i&&(o.classList.add("rekai-pill-link"),o.classList.add("rekai-pill-radius")),0<r&&(e=this.trunkateText(e,r)),document.createTextNode(e));return o.appendChild(t),o.href=n,o},renderAsList:function(e,t,n){linkPrendered=!0;for(var r,i,a=n.styling.toLocaleLowerCase()||"",o=!1,s=("pills"!==n.renderstyle&&"pill"!==n.renderstyle||(o=!0),n.nrofhits||10),c={list:"rek-prediction__list",item:"rek-prediction__item",link:"rek-prediction__link"},d=("envision"===a&&(c.list="env-list",c.item="env-list__item",c.link="normal"),e.getElementsByClassName(c.list)),l=("list"==n.renderstyle?((i=document.createElement("div")).classList.add("rek-style"),i.classList.add("rek-style-cols"),i.classList.add("rek-style-cols"+n.listcols),n.addstripes&&i.classList.add("rek-stripes"),e.appendChild(i)):i=e,0<d.length?r=d[0]:((r=document.createElement("ul")).classList.add(c.list),n.addstripes&&"list"!=n.renderstyle&&r.classList.add("rek-stripes"),o&&"envision"===a?(r.classList.add("rekai-pills"),r.classList.add("env-list--horizontal")):o&&(r.classList.add("rekai-pills"),r.classList.add("rek-style-pills"))),Math.min(t.predictions.length,s)),p=0;p<l;p++){var u=t.predictions[p],g=u.url,h=u.title,u=(n.useh1forcontent&&u.hasOwnProperty("h1")&&""!=u.h1&&(h=u.h1),this.getAnATag(h,c.link,g,n.titlemaxlength,o,a)),h=document.createElement("li");if(h.classList.add(c.item),o&&"envision"===a?(h.classList.add("env-m-top--small"),l-1!=p&&h.classList.add("env-m-right--medium")):o&&h.classList.add("rekai-pill"),-1<g.indexOf(".pdf")&&h.classList.add("rek-prediction__item__pdf"),""!=n.stripecolor&&(n.stripecolor=n.stripecolor.replace("#",""),!window.__rekai.addedStripecolor)){g=".aaa .bbb3.ddd li:nth-child(6n-3),.aaa .bbb3.ddd li:nth-child(6n-4),.aaa .bbb3.ddd li:nth-child(6n-5) {ccc: #fff}@media (max-width: 990px) {.aaa .bbb3.ddd li:nth-child(n) {ccc: eee}.aaa .bbb3.ddd li:nth-child(4n+1),\t.aaa .bbb3.ddd li:nth-child(4n+2) {ccc: #fff}}@media (max-width: 546px) {.aaa .bbb3.ddd li:nth-child(even) {ccc: eee}\t.aaa .bbb3.ddd li:nth-child(odd) {ccc: #fff}}.aaa .bbb2.ddd li:nth-child(n) {ccc: eee}.aaa .bbb2.ddd li:nth-child(4n+1),.aaa .bbb2.ddd li:nth-child(4n+2) {ccc: #fff}@media (max-width: 546px) {.aaa .bbb2.ddd li:nth-child(even) {ccc: eee}.aaa .bbb2.ddd li:nth-child(odd) {ccc: #fff}}.aaa .bbb1.ddd li:nth-child(even) {ccc: eee}.aaa .bbb1.ddd li:nth-child(odd) {ccc: #fff}",g=(g=(g=(g=(g=(g=(g+=".rek-prediction .env-list.rek-stripes .env-list__item:nth-child(even) {background-color: #fff}").replace(/aaa/g,"rek-prediction")).replace(/bbb/g,"rek-style-cols")).replace(/ccc/g,"background-color")).replace(/ddd/g,"rek-stripes")).replace(/eee/g,"transparent")).replace(/fff/g,n.stripecolor);try{var m,f=document.getElementsByTagName("head");f&&((m=document.createElement("style")).innerHTML=g,f[0])&&f[0].appendChild(m)}catch(e){console.log("stripecolor e:"+e)}window.__rekai.addedStripecolor=!0}h.appendChild(u),r.appendChild(h)}0==d.length&&(0<l&&""!=(e=this.getHTMLForHeader(n))&&(i.innerHTML=e),i.appendChild(r))},renderAsContent:function(e,t,n){var r,i=n.nrofhits||10;"content"==n.renderstyle?((r=document.createElement("div")).classList.add("rek-style"),r.classList.add("rek-style-content"),e.appendChild(r)):r=e;for(var a=0;a<Math.min(t.predictions.length,i);a++){var o=t.predictions[a],s=o.title,c=o.url,d=o.ingress,l=(o.pubdate,""==d&&(d=o.text),document.createElement("div")),p=(l.classList.add("rek-prediction__content"),0==a&&l.classList.add("rek-prediction__first-child"),a%2!=0&&l.classList.add("rek-prediction__odd"),null),u=(""!=o.imgurl&&((p=document.createElement("p")).classList.add("rek-prediction__img"),(u=document.createElement("img")).src=o.imgurl,u.alt="",p.appendChild(u)),s),s=(n.useh1forcontent&&""!=o.h1&&(u=o.h1),document.createElement("span")),o=(s.classList.add("rek-prediction__title"),this.getAnATag(u,"",c,n.titlemaxlength,!1,"")),c=(s.appendChild(o),null);""!=d&&(c=document.createElement("div"),s.classList.add("rek-prediction__body"),o=document.createElement("p"),d=document.createTextNode(d),o.appendChild(d),c.appendChild(o)),p&&l.appendChild(p),l.appendChild(s),c&&l.appendChild(c),r.appendChild(l)}},renderAsAdvanced:function(e,t,n){advancedPrendered=!0;t=t.predictions,n.added=0,n.cc="rek","sitevision"==window.__rekai.customer.cms&&(n.cc="env"),n.selector=n.selector||".rek-prediction",n.nrofhits=n.nrofhits||2*n.cols,e=this.getAdvancedHtml(e,t,n);try{document.querySelector(n.selector).innerHTML=e}catch(e){console.log("Error in rek.ai script when adding advanced html to selector")}},getHTMLForHeader:function(e){var t,n="";try{""!=e.headertext&&(""!=e.headerid&&(e.headerid=' id="h-'+e.headerid+'" '),n+='<div class="rekai-news-header-wrapper">',""!=e.headerfontclass&&(e.headerfontclass=' class="'+e.headerfontclass+'" '),t="span",n=n+("<"+(t=0!=e.headerheadinglevel?"h"+e.headerheadinglevel:t)+" "+e.headerfontclass+" "+e.headerid+">"+e.headertext)+"</"+t+"></div>")}catch(e){console.log("rek.ai: Error when creating head e:"+e)}return n},getAdvancedHtml:function(e,t,n){for(var r="",i=(0<t.length&&(r+=this.getHTMLForHeader(n)),r+='<div class="'+n.cc+"-m-bottom--medium rekai-news-wrapper "+n.cc+"-d--flex "+n.cc+'-flex-wrap--wrap">',0);i<t.length&&n.added!=n.nrofhits;i++)r+=this.getAdvancedHtmlOneArticle(e,t,n,i);return r+="</div>"},getAdvancedHtmlOneArticle:function(e,t,n,r){var i="",t=t[r],r=t.url;if(window.location.pathname.replace(/\/$/,"")!==r)try{n.added++;var a,o,s,c,d=t.title,l=(n.useh1forcontent&&t.hasOwnProperty("h1")&&""!=t.h1&&(d=t.h1),d=this.trunkateText(d,n.titlemaxlength),this.trunkateText(t.ingress,n.ingressmaxlength)),p=t.imgurl,u="rekai-newsarticle-article-container",g=(u+=" "+u+"-c"+n.cols,1==n.added&&(u+=" rekai-newsarticle__first-child"),n.added%2!=0&&(u+=" rekai-newsarticle__odd"),i=i+('<div class="'+u+" "+n.cc+'-p-bottom--x-small">')+'<div class="rekai-newsarticle-article">',n.showimage&&(""==p&&""!=(a=""==(a=n.fallbackimgsrc||"")?n.defaultimageurl||"":a)&&(p=a),o=""!=(o=t.jpgimgalt||"")?' alt="'+o+'" ':" alt ",i=(i+='<div class="rekai-newsarticle-img-wrapper '+n.cc+'-m-bottom--x-small">')+'<img  loading="lazy"  class="rekai-newsarticle-img" src="'+p+'" '+o+"></div>"),n.showdate&&""!=t.pubdate&&(i=(i+='<div class="rekai-newsarticle-pubdate">')+"<span "+(s=(s="")!=n.datefontclass?' class="'+n.datefontclass+'" ':s)+">"+t.pubdate+"</span></div>"),""),h="",m="",f=(0!=n.titleheadinglevel?(g="<h"+n.titleheadinglevel+' class="'+n.titlefontclass+'">',h="</h"+n.titleheadinglevel+">"):m=n.titlefontclass,d);i=(i+=g)+('<a class="rekai-newsarticle-a '+m+'" href="'+r+'" aria-label="'+(f=f.replace(/"/g,"&quot;"))+'" title="'+linkPreamble+f+'">'+d+"</a>")+h,n.showingress&&(c="p",i=(i+="<"+(c=0!=n.ingressheadinglevel?"h"+n.ingressheadinglevel:c)+' class="rekai-newsarticle-p '+n.ingressfontclass+'">')+l+"</"+c+">"),i=i+"</div>"+"</div>"}catch(e){console.log("Error in rek.ai script when renderinge advanced articles e:"+e)}return i},getFaqHTML:function(e,t,n){for(var r="",i=(0<t.length&&(r+=this.getHTMLForHeader(n)),r=r+'<div class="faq-area">'+'<div class="faq-container" aria-label="Frågor och svar">',0);i<t.length&&n.added!=n.nrofhits;i++)r+=this.getFaqHTMLOneQuestion(e,t,n,i),0;return r=r+"</div>"+"</div>"},getFaqHTMLOneQuestion:function(e,t,n,r){var i="",a=t[r].question,o=t[r].answer,s=t[r].idNbr,c=t[r].path,t=t[r].title,i=(i=(i=(i=i+'<div class="one-faq-wrapper">'+('<a class="faq-page trigger-rek-entitytype-faq-view" data-rek-entityid="'+s+'" id="tab'+r+'" aria-controls="panel'+r+'" href="#" aria-expanded="false" tabindex="-1">'))+a+"</a>")+('<div class="faq-body" id="panel'+r+'"  aria-labelledby="tab'+r+'" aria-hidden="true" tabindex="0">')+'<p class="one-faq-answer">')+o+"</p>";return i=(i=""!=t?(i=i+'Läs mer om svaret på: <a class="faq-to-answer-page trigger-rek-entitytype-faq-to-page" data-rek-entityid="'+s+'" href="'+c+'">')+t+"</a>":i)+"</div>"+"</div>"},renderAsFaq:function(e,t,n){t=t.predictions,n.added=0,t=this.getFaqHTML(e,t,n);n.selector=n.selector||".rek-prediction";try{e.innerHTML=t}catch(e){console.log("Error in rek.ai script when adding faq html to selector")}}},function(){});function addBeacon(e){var t;hasConsent()&&"1"!=rekGetCookie("localpredict")&&(t=viewURL+"/event",navigator.sendBeacon(t,e))}function preSendingAnEvent(e,t,n){try{"inview"===n?setTimeout(function(){isInViewport(e,150)&&(inViewEventSent=!0,sendingAnEvent(e,t,n))},2e3):("linkclick"!==n||inViewEventSent||(inViewEventSent=!0,sendingAnEvent(e,{},"inview")),sendingAnEvent(e,t,n))}catch(e){console.log("rek.ai: preSendingAnEvent e:"+e)}}function sendingAnEvent(e,t,n,r){var e=e||{},i="",r=r||"",a=((t=t||{}).href&&(i=t.href),""),o=e.dataset||{},o=(o.hasOwnProperty("renderstyle")&&(a="renderstyle:"+o.renderstyle),checkIfIsFAQ(e)&&(a="renderstyle:"+o.entitytype,i="",(e=t.dataset||{}).hasOwnProperty("rekEntityid"))&&(i=e.rekEntityid),"renderstyle:pills"==a&&(a="renderstyle:list"),""!=r&&(a=r),window.performance.now()||-1),o=parseInt(o),t={eventcategory:n,eventaction:a,eventlabel:"",currenturl:window.location.pathname,targeturl:i,content:"",p:projectId,eventtype:"active",timerinms:o},t=JSON.stringify(t);try{let e=!0;"renderstyle:rekai-faq"!==a||"inview"!==n||inViewFAQEventSent||(inViewFAQEventSent=!0,e=!1),e&&addBeacon(t)}catch(e){console.log("rek.ai: sendingAnEvent e:"+e)}}function isInViewport(e,t){t=t||0;try{var n=e.getBoundingClientRect(),r=n.top;return 0<=(r+=t)&&r<(window.innerHeight||document.documentElement.clientHeight)&&0<=n.left?1:void 0}catch(e){}}function checkIfInViewOnScroll(e){keepCheckingScroll&&!inViewEventSent&&isInViewport(e,150)&&(keepCheckingScroll=!1,preSendingAnEvent(e,{},"inview"))}function checkIfFAQInViewOnScroll(e){keepCheckingFAQScroll&&!inViewFAQEventSent&&isInViewport(e,150)&&setTimeout(function(){isInViewport(e,150)&&(keepCheckingFAQScroll=!1,inViewFAQEventSent||(inViewFAQEventSent=!0,sendingAnEvent(e,{},"inview")))},1500)}function checkAndSendClickEvent(e,t){var n="";""==(n=t.href?t.href:n)||oneClickEventIsSent||(oneClickEventIsSent=!0,preSendingAnEvent(e,t,"linkclick"))}function checkAndAddEventsToONEFAQElementInDOM(e){console.log("add to one FAQ"),e.addEventListener("click",function(e){"a"===e.target.tagName.toLowerCase()&&(0<e.target.className.indexOf("trigger-rek-entitytype-faq-view")&&(faqAnswerClickBeaconSent||(faqAnswerClickBeaconSent=!0,sendingAnEvent({},"","answerclick","renderstyle:rekai-faq"))),0<e.target.className.indexOf("trigger-rek-entitytype-faq-to-page"))&&(faqToPageClickBeaconSent||(faqToPageClickBeaconSent=!0,sendingAnEvent({},"","read-more-click","renderstyle:rekai-faq")))})}function checkAndAddEventsToONEElementInDOM(e){try{var t,n=document.querySelectorAll('div.rek-prediction:not([data-entitytype="rekai-faq"])');0<n.length&&(t=n[0],eventsAddedToDOM=!0,t.addEventListener("click",function(e){if("a"===e.target.tagName.toLowerCase())checkAndSendClickEvent(this,e.target);else try{checkAndSendClickEvent(this,e.target.closest("a"))}catch(e){}}),isInViewport(t,150)&&(keepCheckingScroll=!1,preSendingAnEvent(t,{},"inview")),keepCheckingScroll)&&(document.addEventListener("scroll",function(){inViewEventSent||checkIfInViewOnScroll(t)},{passive:!0}),document.body.addEventListener("scroll",function(){inViewEventSent||checkIfInViewOnScroll(t)},{passive:!0}))}catch(e){console.log("rek.ai checkAndAddEventsToONEElementInDOM e:"+e)}}function sendDocAndExternalEvent(e,t){if(!window.__rekai.exitEventSent){window.__rekai.exitEventSent=!0;var n=window.performance.now()||-1,n=parseInt(n),t={eventcategory:t,eventaction:"",eventlabel:"",currenturl:window.location.pathname,targeturl:e.currentTarget.href,content:"",p:projectId,eventtype:"active",timerinms:n},t=JSON.stringify(t);try{addBeacon(t)}catch(e){console.log("rek.ai: sendDocAndExternalEvent e:"+e)}}}function checkAndAddEventsToDOM(e){e=e||".rek-prediction";if("none"!=sendevents&&navigator.sendBeacon){for(var t,n=document.querySelectorAll('div.rek-prediction[data-entitytype="rekai-faq"]'),r=(0<n.length&&(inViewFAQEventSent=!1,checkAndAddEventsToONEFAQElementInDOM(t=n[0]),document.addEventListener("scroll",function(){checkIfFAQInViewOnScroll(t)},{passive:!0}),document.body.addEventListener("scroll",function(){checkIfFAQInViewOnScroll(t)},{passive:!0})),e.split(",")),i=0;i<r.length;i++)""!=r[i]&&","!=r[i]&&checkAndAddEventsToONEElementInDOM(r[i]);try{for(var a=document.links,i=0;i<a.length;i++){var o=a[i].href;-1<o.indexOf(".pdf")?a[i].addEventListener("click",function(e){sendDocAndExternalEvent(e,"docClick")}):-1<o.indexOf("mailto:")?a[i].addEventListener("click",function(e){sendDocAndExternalEvent(e,"mailto")}):-1<o.indexOf("tel:")?a[i].addEventListener("click",function(e){sendDocAndExternalEvent(e,"tel")}):-1<o.indexOf("http")&&-1==o.indexOf(window.location.hostname)&&a[i].addEventListener("click",function(e){sendDocAndExternalEvent(e,"externalClick")})}}catch(e){console.log("rek.ai: checkAndAddEventsToDOM e:"+e)}}}function addGenericEventTracking(){try{window.addEventListener("beforeunload",function(e){sendExitEvent()})}catch(e){}}function getScrollPercent(){var e=document.documentElement,t=document.body,n="scrollTop",r="scrollHeight";return(e[n]||t[n])/((e[r]||t[r])-e.clientHeight)*100}function checkIfIsFAQ(e){if(e){e=e.dataset||{};if(e.hasOwnProperty("entitytype")&&"rekai-faq"===e.entitytype)return 1}}function sendExitEvent(){try{var e,t,n,r,i,a,o,s,c,d,l,p,u;window.__rekai.viewHCStatus&&!window.__rekai.exitEventSent&&(e=!(window.__rekai.exitEventSent=!0),n=(t=document.activeElement||null).href||"",e="A"!==(r=t.tagName)||-1<n.indexOf("http")&&-1===n.indexOf(window.location.hostname)||e)&&(i=sessionstorageGetItem("rekOrgRef")||"",a=window.performance.now()||-1,a=parseInt(a),o=getScrollPercent()||-1,o=parseInt(o),s=(new PathHandler).getSessionPathAsJSON(__rekai.customer)||null,c=-1,s&&(c=s.p.length),d=window.location.pathname,l=window.location.search,p=window.__rekai.searchInputValue||"",u={p:projectId,currenturl:d,targeturl:n,timeonpagems:a,orgRef:i,scrollPercent:o,pathObjectLength:c,search:l,tagName:r,eventtype:"passive",wasInView:inViewEventSent,searchinput:p},addBeacon(u=JSON.stringify(u)))}catch(e){}}function getAllLinksInDOM(){try{return Array.from(document.querySelectorAll("a")).filter(function(e){return e.hasAttribute("href")})}catch(e){return console.log("rek.ai: getAllLinksInDOM e:"+e),[]}}function addEventsJSRendererLinks(r,e){if(!eventsAddedToDOM&&"none"!=sendevents&&navigator.sendBeacon){var t=e.filter(function(e){for(var t=!1,n=0;n<r.length;n++)if(r[n].href===e.href){t=!0;break}return!t}),n=t[t.length-1];isInViewport(n,0)&&(preSendingAnEvent(n,{},"inview"),keepCheckingScroll=!1),keepCheckingScroll&&document.addEventListener("scroll",function(){keepCheckingScroll&&isInViewport(n,0)&&(keepCheckingScroll=!1,preSendingAnEvent(n,{},"inview"))},{passive:!0});for(var i=0;i<t.length;i++)try{t[i].addEventListener("click",function(e){preSendingAnEvent(this,e.target,"linkclick")})}catch(e){}}}function getCurrentScriptDataset(){var e={};try{e=document.currentScript.dataset}catch(e){}return e}function getNonce(){var e="";try{var t=getCurrentScriptDataset();t.nonce&&(e=t.nonce)}catch(e){}return e}function getUseConsent(){var e=!1;try{var t=getCurrentScriptDataset();t.useconcent&&"true"===t.useconcent&&(e=!0),t.useconsent&&"true"===t.useconsent&&(e=!0)}catch(e){}return e}function hasConsent(){return!getUseConsent()||!!(window.__rekai.consentaccepted||!1)||"true"===sessionStorage.getItem("rekai_consent_accepted")&&(window.__rekai.consentaccepted=!0)}function diff_minutes(e,t){try{var n=(e.getTime()-t.getTime())/1e3;return n/=60,Math.abs(Math.round(n))}catch(e){return 0}}function sessionstorageSetItem(e,t){if(!window.__rekai.blockSaveToSessionStorage)try{hasConsent()&&sessionStorage.setItem(e,t)}catch(e){console.log("[rek.ai] error 001")}}function sessionstorageGetItem(e){if(window.__rekai.blockSaveToSessionStorage)return null;try{if(hasConsent())return sessionStorage.getItem(e)}catch(e){console.log("[rek.ai] error 003")}}function localstorageSetItem(e,t){if(!window.__rekai.blockSaveToLocalStorage)try{hasConsent()&&localStorage.setItem(e,t)}catch(e){console.log("[rek.ai] error 002")}}function localstorageGetItem(e){if(!window.__rekai.blockSaveToLocalStorage)return null;try{if(hasConsent())return localStorage.getItem(e)}catch(e){console.log("[rek.ai] error 004")}}function getLocationPath(){return location.search.indexOf(!1)?location.pathname+location.search:window.location.href}function cleanLocalPath(e){return e=(e=e.split("?")[0]).split("#")[0]}function getFeatureFloat(e,t){return 1<t?t=1:t<-1&&(t=-1),{id:e,value:parseFloat(t.toFixed(4))}}function getFeatureString(e,t){return{id:e,value:t}}function flip(e){0<e||Math.abs(e)}function getSingleTab(e){var t="";try{var n=window.location.pathname;(n.match(/\//g)||[]).length==nroftabstogroup&&(-1<(n=n.replace(/\//g,"")).indexOf(".")&&(n=n.substring(0,n.indexOf("."))),""==e||-1==e.indexOf(n))&&(t=n)}catch(e){}return t}function datausecfToArr(e){var t=[-1];return"none"==e?t:"all"==e||""==e?[]:e.split(",")}function checkIfSocialCollaborationFilePage(e){if("socialcollaboration"===e.cmsvariant&&-1<(getLocationPath()||"").indexOf("filer.html?file="))return 1}function getSocialCollaborationFileName(){var e="";return document.getElementsByTagName("h1")?e=document.getElementsByTagName("h1")[0].textContent:document.getElementsByTagName("h2")?e=document.getElementsByTagName("h2")[0].textContent:document.getElementsByTagName("h3")||document.getElementsByTagName("h4")?e=document.getElementsByTagName("h4")[0].textContent:document.getElementsByTagName("h5")&&(e=document.getElementsByTagName("h5")[0].textContent),e=(e=e.replace(/\n/gi,"")).trim()}function getPageId(e){if("sitevision"==e.cms){var t="";try{t=sv.PageContext.pageId}catch(e){t=""}return checkIfSocialCollaborationFilePage(e)&&(t+="|"+location.search.replace("?file=","")),t}if("wp"==e.cms)for(var n=document.getElementsByTagName("BODY")[0].classList,r=0;r<n.length;r++){if(-1<n[r].indexOf("page-id-"))return n[r].replace("page-id-","");if(-1<n[r].indexOf("postid-"))return n[r].replace("postid-","")}return getLocationPath()}function getPagelang(){var e="def";try{e=document.documentElement.lang}catch(e){}return e}function getTemplateId(e){var t="";if("sitevision"==e.cms){var n=/(91\.[a-z0-9]+)/gi,r="sv-template-asset";try{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++)-1<i[a].src.indexOf(r)&&(t=(i[a].src||"").match(n)[0]||"")}catch(e){}if(""===(t=void 0===t?"":t)){var o=document.getElementsByTagName("link");try{for(a=0;a<o.length;a++)-1<(o[a].href||"").indexOf(r)&&(t=o[a].href.match(n)[0]||"")}catch(e){}}}return t=void 0===t?"":t}function addOneMeta(e,t){var n="",r="";try{var i=document.createElement("head"),a=(i.innerHTML=e,i.childNodes[0]);(n=(n=a.getAttribute("name"))||a.getAttribute("property"))&&(r=a.getAttribute("content"))}catch(e){r=n=""}return""!=n&&""!=r&&t.push({name:n,value:r}),t}function collectMetadata(){var t=[],e=["image","description","title","rek_content_h1","rek_content_h2","rek_content_ingress","rek_content_imgurl","keywords"],n=document.getElementsByTagName("meta");try{if(n)for(var r of n)for(var i=r.outerHTML,a=0;a<e.length;a++)-1<i.indexOf(e[a])&&(t=addOneMeta(i,t))}catch(e){t=[]}try{var o=document.documentElement.lang||"";t.push({name:"lang",value:o})}catch(e){}return t}function getContenForView(e){var t={ldjson:[]};try{for(var n=document.querySelectorAll('script[type="application/ld+json"]'),r=0;r<n.length;r++){var i=JSON.parse(n[r].innerText);i.hasOwnProperty("@type")&&t.ldjson.push(i)}}catch(e){}return e&&e.hasOwnProperty("linkContent")&&t.ldjson.push(e.linkContent),t}function getAndPushFeatureValue(e,t,n,r){"string"==r?void 0!==n&&""!=n&&(250<n.length&&n.substring(0,250),e.push(getFeatureString(t,n))):"float"==r&&void 0!==n&&isNumber(n)&&(n=parseFloat(n),e.push(getFeatureFloat(t,n)))}function createCFOrCSFArray(e,t,n,r,i,a,o){for(var s=t;s<=n;s++)try{var c,d,l=r+s;(0==a.length||-1<a.indexOf(l))&&(c="rek"+customer.projectid+r+s,d="rek"+r+s,i[c]?getAndPushFeatureValue(e,s,i[c],o):i[d]?getAndPushFeatureValue(e,s,i[d],o):i[l]?getAndPushFeatureValue(e,s,i[l],o):sessionstorageGetItem(c)?getAndPushFeatureValue(e,s,sessionstorageGetItem(c),o):sessionstorageGetItem(d)?getAndPushFeatureValue(e,s,sessionstorageGetItem(d),o):localstorageGetItem(c)?getAndPushFeatureValue(e,s,localstorageGetItem(c),o):localstorageGetItem(d)?getAndPushFeatureValue(e,s,localstorageGetItem(d),o):rekGetCookie(c)?getAndPushFeatureValue(e,s,rekGetCookie(c),o):rekGetCookie(d)&&getAndPushFeatureValue(e,s,rekGetCookie(d),o))}catch(e){console.log("rek.ai: Error while getting custom features."),console.log("rek.ai: e:"+e)}return e}function getOrgReferer(){var e,t="";try{(t=sessionstorageGetItem("rekOrgRef"))||(sessionstorageSetItem("rekOrgRef",e=-1<(e=(e=document.referrer).replace("http://","").replace("https://","").replace("www.","")).indexOf("/")?e.substring(0,e.indexOf("/")):e),t=e),window.__rekai.orgreferer=t}catch(e){return""}return t}function buildSendObject(e,t,n,r,i){var a=new VisitCalculator,o=new PathHandler,s=getPageId(e),c=getLocationPath(),d=0;try{sessionstorageGetItem("rekclick")&&(d=1,sessionStorage.removeItem("rekclick"))}catch(e){d=0}var l=[],p=(window.rek_customfeature||(window.rek_customfeature={}),window.rek_customfeature||[]),l=createCFOrCSFArray(l,1,20,"f",p,i,"float");l=createCFOrCSFArray(l,21,22,"f",p,i,"string");var p=createCFOrCSFArray([],1,10,"csf",p,i,"string"),i=(i=navigator.language||navigator.userLanguage)||"def",u=new Date,g=document.title,h=(window.rek_custompagetitle&&(g=window.rek_custompagetitle),r.isLink?(g=r.myName,c=r.myUrl):checkIfSocialCollaborationFilePage(e)&&(g=getSocialCollaborationFileName()),""),m=(sendreferer&&(h=document.referrer),{});e.sendcontentview&&(m.collectedMetadata=collectMetadata(),window.__rekai.content.ldjson=getContenForView(r),m.ldjson=window.__rekai.content.ldjson);try{window.__rekai.templateId&&""!==window.__rekai.templateId&&(m.templateId=window.__rekai.templateId)}catch(e){}r=e.projectid;return window.__rekai.viewHCStatus=hasConsent(),g={pn:g,pid:s,mb:window.mobilecheck(),mv:a.getVisits(e,!0),mp:o.getSessionPathAsJSON(e),pc:d,cf:l,csf:p,oo:window.overrideObject,p:r,ubl:i,ref:h,ld:u,url:c,content:m,term:"",domain:"",notdomain:"",orgreferer:getOrgReferer(),hc:window.__rekai.viewHCStatus},""!=window.__rekai.entitytype&&""!=window.__rekai.entityid&&(g.entitytype=window.__rekai.entitytype,g.entityid=window.__rekai.entityid),checkIfSocialCollaborationFilePage(e)&&(g.scfile="true"),window.__rekai.addedby&&(g.addedby=window.__rekai.addedby),window.__rekai.orgreferer&&(g.orgreferer=window.__rekai.orgreferer),""!=window.__rekai.seed&&(g.seed=window.__rekai.seed),g}function isNumber(e){return!isNaN(parseFloat(e))&&!isNaN(+e)}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}function sendDataToBackend(e,t,n,r){var i=buildSendObject(e,{},!1,t,[]);delete i.domain,delete i.notdomain,delete i.oo,delete i.pc,delete i.term;try{window.__rekai.transformViewParameters(i)}catch(e){}n&&(i.is404Page=n),(!isRefresh||!isEmpty(i.oo)||runLocaly||t.isLink||e.viewevent||r)&&(window.__rekai.viewSent=!0,n=JSON.stringify(i),t=!0,window.fetch&&"keepalive"in new Request("")&&(t=!1,fetch(viewURL,{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json",Accept:"application/json"},body:n})),t)&&((e=new XMLHttpRequest).open("POST",viewURL),e.responseType="json",e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Accept","application/json"),e.onload=function(){},e.send(n))}function addPathToGetRequest(e){return(new PathHandler).getSessionPathAsString(e)}LinkSorter.prototype={sortLinks:function(e,t){e=JSON.parse(e);""!=t.sortselector&&this.sortBlocks(t.sortselector,t.sortcontainers,e)},addPercent:function(e,t){for(var n=t[parseInt(t.length/2)].percent,r=.1,i=0;i<e.length;i++){for(var a=e[i],o=0,s=0,c=a.querySelectorAll("li"),d=0;d<c.length;d++){for(var l=c[d],p=l.querySelectorAll("a"),u=(0<p.length&&(p=p[0]),0),g=0;g<t.length;g++)if(t[g].url==p.pathname){u=t[g].percent;break}s+=u,0==u&&(u=s/o,isNaN(u)||0==u)&&(u=n),l.setAttribute("data-percent",u),o++}var h=s/o;(isNaN(h)||0==h)&&(h=r),a.setAttribute("data-mean",h),r=h}},sortBlocks:function(e,t,n){var r=document.querySelectorAll(e);if(0<r.length){this.addPercent(r,n.predictions);for(var i=[],a=r.length-1;0<=a;a--)i[a]=r[a];t?i.sort(function(e,t){return e.dataset.mean-t.dataset.mean}):i.reverse();for(var o=r[0].parentNode,a=r.length-1;0<=a;a--)o.removeChild(r[a]);for(a=i.length-1;0<=a;a--){for(var s,c=i[a].querySelectorAll("ul"),d=c[0].parentNode,l=0;l<c.length;l++)"UL"==c[l].tagName&&(s=c[l]);for(var p=[],u=s.children.length-1;0<=u;u--)p.push(s.children[u]);p.sort(function(e,t){return e.dataset.percent-t.dataset.percent});for(var g=p[0].parentNode,u=p.length-1;0<=u;u--)g.removeChild(p[u]);for(var h=p.length-1;0<=h;h--)g.appendChild(p[h]),d.appendChild(g);o.appendChild(i[a]),r[a].classList.add("rek-sorting-done")}}}},window.mobilecheck=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t)?1:-1};var transformRequestString=function(e){return e};function rootPathSettings(t){var e=t.userootpath||"false";if(!(e="true"==e.toString()))return"";var n="",r=t.rootpathlevel||0;try{r=parseInt(r)}catch(e){r=0}r<0&&(r=0);e=t.rootpathprefix||"";if(""===(t=window.__rekai.givenHref||"")){try{t=document.querySelector("link[rel='canonical']").getAttribute("href")}catch(e){t=""}""==t&&(t=window.location.href)}try{var i=(t=-1<(t=-1<(t=t.replace(t.match(/^(?:\/\/|[^\/]+)*/),"")).indexOf("?")?t.split("?")[0]:t).indexOf(".")?t.substring(0,t.indexOf(".")):t).split("/");if(1<i.length){0==r&&(r=i.filter(function(e){return""!=e}).length);for(var a=0,o=0;o<i.length&&(""==i[o]||(n+="/"+i[o],++a!=r));o++);}}catch(e){n=""}return""!=n&&(n+="/"),n=""!=e?e+":"+n:n}function getPredictionURLParameters(e,t,n){var r=new PathHandler;isEmpty(e)&&(e=getParametersFromContainer([],{}));try{window.__rekai.transformPredictionParameters(e,t)}catch(e){}var i=t.p,a=(""!=e.projectid&&(i=e.projectid),"?mb="+t.mb),i=(a=(a=(a=(a+="&vt="+t.mv.vt)+("&v30="+t.mv.v30))+("&dlv="+t.mv.dlv))+("&p="+i)+("&ubl="+t.ubl),e.nrofhits),i=(t.hasOwnProperty("nrofhits")&&(i=t.nrofhits),e.hasOwnProperty("renderstyle")&&"advanced"==e.renderstyle&&i++,""!=e.verifyurl&&(i*=3),a+="&nr="+i,rootPathSettings(e));""==e.subtree&&""==i||(-1<(s=-1<(s=(s="")!=e.subtree&&""!=i?e.subtree+","+i:e.subtree+i).indexOf(".html/")?s.replace(".html/","/"):s).indexOf(".htm/")&&(s=s.replace(".htm/","/")),a+="&subtree="+encodeURIComponent(s)),""!=e.excludetree&&(-1<(i=-1<(i=e.excludetree).indexOf(".html/")?i.replace(".html/","/"):i).indexOf(".htm/")&&(i=i.replace(".htm/","/")),a+="&excludetree="+encodeURIComponent(i)),""!=e.subtreeexternal&&(a+="&subtreeexternal="+encodeURIComponent(e.subtreeexternal)),""!=e.excludetreeexternal&&(a+="&excludetreeexternal="+encodeURIComponent(e.excludetreeexternal)),(e.addcontent||"content"==e.renderstyle||"advanced"==e.renderstyle||e.useh1forcontent)&&(a+="&addcontent=true"),e.tree&&(a+="&tree=true"),""!=e.treelvl&&(a+="&treelvl="+e.treelvl),""!=e.maxpathdepth&&(a+="&maxpathdepth="+e.maxpathdepth),""!=e.minpathdepth&&(a+="&minpathdepth="+e.minpathdepth),""!=e.pagetype&&(a+="&pagetype="+encodeURIComponent(e.pagetype)),""!=e.notpagetype&&(a+="&notpagetype="+encodeURIComponent(e.notpagetype)),""!=e.srek&&(a+="&srek="+e.srek),""!=e.ldjsontype&&(a+="&ldjsontype="+encodeURIComponent(e.ldjsontype)),e.returnjsonld&&(a+="&returnjsonld=true");for(var o=0;o<t.cf.length;o++)a+="&f"+t.cf[o].id+"="+encodeURIComponent(t.cf[o].value);for(o=0;o<t.csf.length;o++)a+="&csf"+t.csf[o].id+"="+encodeURIComponent(t.csf[o].value);a+="&pl="+getPagelang();var s=r.getTabsPathAsString(),i=(""!=s&&(a+="&tabs="+encodeURIComponent(s)),getSingleTab(s));if(""!=i&&(a+="&singletab="+encodeURIComponent(i)),""!=e.co&&(a+="&co="+encodeURIComponent(e.co)),""!=e.ci&&(a+="&ci="+encodeURIComponent(e.ci)),""!=e.di&&(a+="&di="+encodeURIComponent(e.di)),""!=e.lat&&(a+="&lat="+e.lat),""!=e.lon&&(a+="&lon="+e.lon),""!=e.term?a+="&term="+encodeURIComponent(e.term):""!=t.term&&(a+="&term="+encodeURIComponent(t.term)),""!=e.domain?a+="&domain="+encodeURIComponent(e.domain):""!=t.domain&&(a+="&domain="+encodeURIComponent(t.domain)),""!=e.notdomain?a+="&notdomain="+encodeURIComponent(e.notdomain):""!=t.notdomain&&(a+="&notdomain="+encodeURIComponent(t.notdomain)),""!=e.entitytype&&(a+="&entitytype="+encodeURIComponent(e.entitytype)),e.ignorelabels&&(a+="&ignorelabels=true"),e.hidetestresult&&(a+="&hidetestresult=true"),e.blocknlp&&(a+="&blocknlp=true"),""!=e.allowedlangs?a+="&allowedlangs="+encodeURIComponent(e.allowedlangs):t.allowedlangs&&""!=t.allowedlangs&&(a+="&allowedlangs="+encodeURIComponent(t.allowedlangs)),window.__rekai.orgreferer&&(a+="&orgreferer="+encodeURIComponent(window.__rekai.orgreferer)),""!=e.visitedcategory&&(a+="&visitedcategory="+encodeURIComponent(window.__rekai.visitedcategory)),""!=e.filtercategory&&(a+="&filtercategory="+encodeURIComponent(e.filtercategory)),e.categoryproductprediction&&(a+="&categoryproductprediction=true"),-1!=e.nrofdifferentcategoires&&(a+="&nrofdifferentcategoires="+e.nrofdifferentcategoires),-1!=e.levelofcategory&&(a+="&levelofcategory="+e.levelofcategory),-1!=e.nrofproductsineachcategory&&(a+="&nrofproductsineachcategory="+e.nrofproductsineachcategory),-1!=e.productprojectid&&(a+="&productprojectid="+e.productprojectid),-1!=e.availableatbranch&&(a+="&availableatbranch="+e.availableatbranch),t.timeseriesdate&&(a+="&timeseriesdate="+t.timeseriesdate),""!=window.__rekai.seed&&(a+="&seed="+window.__rekai.seed),e.hasOwnProperty("ldjsonfilter"))for(o=0;o<e.ldjsonfilter.length;o++)a+="&"+e.ldjsonfilter[o].name+"="+encodeURIComponent(e.ldjsonfilter[o].value);try{var c=window.location.pathname;""!=c&&(a+="&currentp="+encodeURIComponent(c))}catch(e){}try{var d=getPageId(n);""!=d&&(a+="&currentid="+encodeURIComponent(d))}catch(e){}r=addPathToGetRequest(n);""!=r&&a.length+r.length<1800&&(a+=r);try{a=window.__rekai.transformRequestString(a)}catch(e){}return a}function overwriteSendObject(e,t){if(t)try{for(var n in t){var r=!1;if(t.hasOwnProperty(n))if(-1<n.indexOf("csf")){for(var i=n.replace("csf",""),a=0;a<e.csf.length;a++)e.csf[a].id==i&&(e.csf[a].value=t[n],r=!0);r||getAndPushFeatureValue(e.csf,i,t[n],"string")}else if(-1<n.indexOf("cf")){for(var o=n.replace("cf",""),a=0;a<e.cf.length;a++)e.cf[a].id==o&&(e.cf[a].value=t[n],r=!0);r||getAndPushFeatureValue(e.cf,o,t[n],o<21?"float":"string")}else e[n]=t[n]}}catch(e){console.log("rek.ai error when overwriting prediction object: "+e)}return e}function transferOptions(e){return e.container=void 0===e.container?{}:e.container,e.overwrite=void 0===e.overwrite?{}:e.overwrite,e.operations=void 0===e.operations?[]:e.operations,e}function predictAutocomplete(e,t,n){try{var r=t.overwrite||t.params||{},i=t.projectid||"",a=t.cms||"",o=JSON.parse(JSON.stringify(__rekai.customer)),s=t.baseUrl||__rekai.predictUrl,c=(("string"==typeof i&&0<i.length||"number"==typeof i)&&(o.projectid=i),0<a.length&&"string"==typeof a&&(o.cms=a),getParametersFromContainer(r)),d=buildSendObject(o,{},!0,{isLink:!1},[]),l=s;l+=getPredictionURLParameters(c,d,o),t.secret&&"string"==typeof t.secret&&(l+="&srek="+t.secret),l+="&rt=flat&keywords=true&term="+encodeURIComponent(e),fetch(l).then(e=>e.json()).then(e=>{try{window.__rekai.sortResult&&(e=window.__rekai.sortResult(e))}catch(e){console.log("Error in custom sort e:"+e)}return n(e.slice(0,10))})}catch(e){console.error("rek.ai error when predicting autocomplete: "+e)}}function predict(e,t){e.customer=e.customer||window.__rekai.customer,checkAndAddCurrentPageToPath(e.customer),t?(e&&(JSON.stringify("{}"==e)&&(e.customer=window.__rekai.customer),!e.hasOwnProperty("projectid"))||((e={}).customer=window.__rekai.customer),predictInternal((e=transferOptions(e)).customer,e.container,e.overwrite,e.operations,t)):"function"==typeof e?predictInternal(window.__rekai.customer,{},{},[],e):predictInternal((e=transferOptions(e)).customer,e.container,e.overwrite,e.operations,t)}function predictInternal(customer,container,overwrite,operations,customCallbackFunction){container=container||{},container.dataset||(container.dataset=[]);var linkObject={isLink:!1},operations=operations||[],parameters=getParametersFromContainer(container.dataset,overwrite),mainElement;if(""==parameters.onlyprojectid||customer.projectid==parameters.onlyprojectid){try{""!=parameters.sortselector&&(mainElement=document.querySelectorAll(parameters.sortselector),setTimeout(function(){for(var e=mainElement.length-1;0<=e;e--)mainElement[e].classList.add("rek-sorting-done")},700))}catch(e){}var usecf=datausecfToArr(parameters.usecf),tempCustomerForPrediction={cms:customer.cms,projectid:customer.projectid,page404title:customer.page404title,sendcontentview:customer.sendcontentview,cmsvariant:customer.cmsvariant,readdatafromproject:customer.readdatafromproject},sendObject=(parameters.hasOwnProperty("projectid")&&""!=parameters.projectid&&(tempCustomerForPrediction.projectid=parameters.projectid),parameters.hasOwnProperty("cms")&&""!=parameters.cms&&(tempCustomerForPrediction.cms=parameters.cms),buildSendObject(tempCustomerForPrediction,{},!0,linkObject,usecf)),params=(sendObject.operations=operations,sendObject=overwriteSendObject(sendObject,overwrite),getPredictionURLParameters(parameters,sendObject,tempCustomerForPrediction)),doPost=!1;try{0<sendObject.operations.length&&(doPost=!0)}catch(e){doPost=!1}var doParameterCallback=!1,parameterCallbackfunction;if(""!=parameters.callback)try{parameterCallbackfunction=eval(parameters.callback),"function"==typeof parameterCallbackfunction&&(doParameterCallback=!0)}catch(e){console.log("rek.ai: Error when calling paramteter callback"),console.log("rek.ai: e:"+e)}var xhr=new XMLHttpRequest;doPost?(xhr.open("POST",predictUrl),xhr.setRequestHeader("Content-Type","application/json"),xhr.setRequestHeader("Accept","application/json")):xhr.open("GET",predictUrl+params),xhr.onload=function(){var e=!1;if(customCallbackFunction&&"function"==typeof customCallbackFunction)try{var e=!0,t=JSON.parse(xhr.response),n=getAllLinksInDOM(),r=(customCallbackFunction(t,overwrite),getAllLinksInDOM());try{addEventsJSRendererLinks(n,r)}catch(e){console.log("rek.ai: addEventsJSRendererLinks e:"+e)}}catch(e){console.log("rek.ai: Error when calling custom callback"),console.log("rek.ai: e:"+e)}if(doParameterCallback){n=getAllLinksInDOM(),r=(parameterCallbackfunction(xhr.response,container),getAllLinksInDOM());try{addEventsJSRendererLinks(n,r)}catch(e){console.log("rek.ai: addEventsJSRendererLinks e:"+e)}e=!0}if(!e){t=JSON.parse(xhr.response),n=parameters.verifyurl||"";if(""==n)afterPredictionAndVerify(t,container,tempCustomerForPrediction,overwrite,parameters);else try{for(var i=new XMLHttpRequest,a=(i.open("POST",n),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("Accept","application/json"),JSON.parse(xhr.response)),o=[],s=0;s<a.predictions.length;s++)o.push(a.predictions[s].pageid);var c={ids:o},c=JSON.stringify(c);i.onload=function(){var e=JSON.parse(i.response),t=-1;try{for(t=a.predictions.length||-1;t--;)-1==e.indexOf(a.predictions[t].pageid)&&a.predictions.splice(t,1)}catch(e){}afterPredictionAndVerify(a,container,tempCustomerForPrediction,overwrite,parameters)},i.send(c)}catch(e){console.log("rek.ai error in verify:"+e),afterPredictionAndVerify(a,container,tempCustomerForPrediction,overwrite,parameters)}}},doPost?xhr.send(JSON.stringify(sendObject)):xhr.send()}}function afterPredictionAndVerify(e,t,n,r,i){"sort"==i.renderstyle?(new LinkSorter).sortLinks(e,i):""==i.callback&&fillWithLinks(e,t,n,r)}function insertParam(e,t,n){e=-1==e.indexOf("?")?e+"?"+t+"="+n:e+"&"+t+"="+n}function renderPredictions(e,t,n){n=n||null,fillWithLinks(e,t,window.__rekai.customer,n)}function fillWithLinks(e,t,n,r){var i=new Renderer,r=overwriteSendObject(getParametersFromContainer(t.dataset,{}),r);try{for(var a=t.getElementsByClassName("rek-loading-wrapper"),o=0;o<a.length;o++)t.removeChild(a[o])}catch(e){}t&&e&&("content"==r.renderstyle?i.renderAsContent(t,e,r):"advanced"==r.renderstyle?i.renderAsAdvanced(t,e,r):"rekai-faq"===r.entitytype?i.renderAsFaq(t,e,r):i.renderAsList(t,e,r)),addListenersToLinks(n);try{rekPredictionDone()}catch(e){}}function addListenersToLinks(e){for(var t=[],n=document.getElementsByClassName("rek-link-listener"),r=0;r<n.length;r++){var i=n[r];if("A"==i.tagName)i.classList.contains("rek-event-added")||(i.classList.add("rek-event-added"),t.push(i));else for(var a=i.getElementsByTagName("a"),o=0;o<a.length;o++){var s=a[o];s.classList.contains("rek-event-added")||(s.classList.add("rek-event-added"),t.push(s))}}for(r=0;r<t.length;r++)addExternalClickToALink(t[r])}function addExternalClickToALink(t){t.addEventListener("click",function(e){addTheEventToLink(t)})}function addTheEventToLink(e){var t=e.getAttribute("target"),n=(null==t&&(t="_self"),e.textContent),r=e.getAttribute("href"),i={},e=(e.getAttribute("data-rek-title")&&(i.rektitle=e.getAttribute("data-rek-title")),e.getAttribute("data-rek-image")&&(i.rekimage=e.getAttribute("data-rek-image")),e.getAttribute("data-rek-description")&&(i.rekdescription=e.getAttribute("data-rek-description")),e.getAttribute("data-rek-url")&&(i.rekurl=e.getAttribute("data-rek-url")),e.getAttribute("data-rek-enddate")&&(i.rekenddate=e.getAttribute("data-rek-enddate")),e.getAttribute("data-rek-pubdate")&&(i.pubdate=e.getAttribute("data-rek-pubdate")),e.getAttribute("data-rek-pagetype")&&(i.pagetype=e.getAttribute("data-rek-pagetype")),{isLink:!0,myName:n.trim(),myUrl:r,myTarget:t});(i.rektitle||i.rekimage||i.rekdescription||i.rekurl||i.enddate||i.pubdate)&&(e.linkContent=i),sendDataToBackend(customer,e,!1,!1)}function getViewclickMetadataFromHead(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("rek_viewclick"==e[t].getAttribute("name"))return 1}function checkSoNotBot(){for(var e=navigator.userAgent,t=["Googlebot","Google (+https://developers.google.com/+/web/snippet/)","bingbot.htm","Yahoo! Slurp","DuckDuckBot","Baiduspider","YandexBot","Sogou","facebookexternalhit","www.alexa.com"],n=0;n<t.length;n++)if(-1<e.toLowerCase().indexOf(t[n].toLowerCase()))return;return 1}function rekGetCookie(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function getArrayOfAllParameters(){return[{n:"nrofhits",t:"i",d:10},{n:"maxpathdepth",t:"i"},{n:"minpathdepth",t:"i"},{n:"subtree",t:"s"},{n:"excludetree",t:"s"},{n:"subtreeexternal",t:"s"},{n:"excludetreeexternal",t:"s"},{n:"callback",t:"s"},{n:"usecf",t:"s"},{n:"treelvl",t:"s"},{n:"projectid",t:"s"},{n:"onlyprojectid",t:"s"},{n:"renderstyle",t:"s"},{n:"listcols",t:"s"},{n:"stripecolor",t:"s"},{n:"sortselector",t:"s"},{n:"useh1forcontent",t:"b"},{n:"addcontent",t:"b"},{n:"tree",t:"b"},{n:"addstripes",t:"b"},{n:"hideimage",t:"b"},{n:"linkedheader",t:"b"},{n:"printdate",t:"b"},{n:"sortcontainers",t:"b"},{n:"pagetype",t:"s"},{n:"notpagetype",t:"s"},{n:"srek",t:"s"},{n:"co",t:"s"},{n:"ci",t:"s"},{n:"di",t:"s"},{n:"ldjsontype",t:"s"},{n:"returnjsonld",t:"b"},{n:"lat",t:"s"},{n:"lon",t:"s"},{n:"cms",t:"s"},{n:"term",t:"s"},{n:"domain",t:"s"},{n:"notdomain",t:"s"},{n:"styling",t:"s"},{n:"ignorelabels",t:"b"},{n:"hidetestresult",t:"b"},{n:"allowedlangs",t:"s"},{n:"userootpath",t:"b"},{n:"rootpathlevel",t:"i"},{n:"rootpathprefix",t:"s"},{n:"timeseriesdate",t:"s"},{n:"source",t:"s"},{n:"template",t:"s"},{n:"cols",t:"i",d:2},{n:"selector",t:"s"},{n:"headertext",t:"s"},{n:"headerid",t:"s"},{n:"headerheadinglevel",t:"i",d:2},{n:"headerfontclass",t:"s"},{n:"titlefontclass",t:"s"},{n:"titleheadinglevel",t:"i",d:0},{n:"titlemaxlength",t:"i",d:100},{n:"ingressmaxlength",t:"i",d:100},{n:"showingress",t:"b",d:"true"},{n:"ingressfontclass",t:"s"},{n:"ingressheadinglevel",t:"i",d:0},{n:"showimage",t:"b",d:"true"},{n:"fallbackimgsrc",t:"s"},{n:"defaultimageurl",t:"s"},{n:"showdate",t:"b"},{n:"datefontclass",t:"s"},{n:"visitedcategory",t:"s"},{n:"filtercategory",t:"s"},{n:"categoryproductprediction",t:"b"},{n:"nrofdifferentcategoires",t:"i",d:-1},{n:"levelofcategory",t:"i",d:-1},{n:"nrofproductsineachcategory",t:"i",d:-1},{n:"productprojectid",t:"i",d:-1},{n:"availableatbranch",t:"i",d:-1},{n:"verifyurl",t:"s"},{n:"excludechildnodes",t:"b"},{n:"blocknlp",t:"b"},{n:"entitytype",t:"s"}]}function getParametersFromContainer(e,t){t=t||{};for(var n,r=getArrayOfAllParameters(),i={ldjsonfilter:[]},a=0;a<r.length;a++){var o=r[a];if("i"==o.t){var s="";o.hasOwnProperty("d")&&(s=o.d);try{i[o.n]=parseInt(e[o.n])||s}catch(e){i[o.n]=s}}else"s"==o.t?(s="",o.hasOwnProperty("d")&&(s=o.d.toLowerCase()),i[o.n]=e[o.n]||s):(i[o.n]=!1,r[a].hasOwnProperty("d")&&"true"===r[a].d&&(i[o.n]=!0),"string"==typeof e[o.n]?"true"==e[o.n].toLowerCase()?i[o.n]=!0:"false"==e[o.n].toLowerCase()&&(i[o.n]=!1):"boolean"==typeof e[o.n]&&(i[o.n]=e[o.n]));t.hasOwnProperty(o.n)&&("string"==typeof t[o.n]?"true"==t[o.n].toLowerCase()?i[o.n]=!0:i[o.n]=t[o.n]:"number"!=typeof t[o.n]&&"boolean"!=typeof t[o.n]||(i[o.n]=t[o.n]))}try{for(var c in t)-1<c.indexOf("ldjsonfilter")&&i.ldjsonfilter.push({name:c,value:t[c]});for(var c in e)-1<c.indexOf("ldjsonfilter")&&i.ldjsonfilter.push({name:c,value:e[c]})}catch(e){}try{i.excludechildnodes&&(n=window.location.pathname.replace(/^\/|\/$/g,"").split("/").length,i.minpathdepth=n+=2)}catch(e){}return i}function checkIf404Page(e){var t=document.title;try{window.rek_custompagetitle&&(t=window.rek_custompagetitle)}catch(e){}return-1<(t=t.toLocaleLowerCase()).indexOf(e.page404title.toLocaleLowerCase())}var firstRemove=!0;function checkForProxySettings(){try{var e,t;window.hasOwnProperty("rek_customsettings")&&(e=!1,"1"==rekGetCookie("localpredict")&&(e=!0),t=!1,"1"==rekGetCookie("localview")&&(t=!0),e||window.rek_customsettings.hasOwnProperty("proxypredict")&&(predictUrl=window.rek_customsettings.proxypredict),window.rek_customsettings.hasOwnProperty("proxyview"))&&!t&&(viewURL=window.rek_customsettings.proxyview)}catch(e){console.log("rek.ai: Error in proxy settings"),console.log("rek.ai: e:"+e)}}function checkAndAddCurrentPageToPath(e){var t;window.__rekai.hasAddedToPath||(window.__rekai.hasAddedToPath=!0,sessionstorageGetItem(t="last"+e.projectid)==getLocationPath()?isRefresh=!0:((new PathHandler).addToSessionPath(getPageId(e),e),sessionstorageSetItem(t,getLocationPath())))}function checkAndSaveView(e){if(checkSoNotBot()&&!rekGetCookie("rekblock")){var t={isLink:!1},n=window.rek_blocksaveview||!1,r=checkIf404Page(e);if(r||window.__rekai.errorpage)sendDataToBackend(e,t,r,!1);else{var i;e.projectid;shouldSaveClickToDatabase=window.rek_viewclick||!1;try{"all"===sendviews&&(shouldSaveClickToDatabase=!0)}catch(e){}if(!shouldSaveClickToDatabase)try{void 0===window.__rekai.appdata||null!=(i=window.rek_viewclick)&&!i||(shouldSaveClickToDatabase=!0)}catch(e){shouldSaveClickToDatabase=!1}window.rek_vieweventprojectid||(window.rek_vieweventprojectid=e.projectid),shouldSaveClickToDatabase||getViewclickMetadataFromHead()&&(shouldSaveClickToDatabase=!0),shouldSaveClickToDatabase||window.rek_viewclickprojectid&&-1<window.rek_viewclickprojectid.toString().indexOf(e.projectid.toString())&&(shouldSaveClickToDatabase=!0),e.viewevent&&window.rek_vieweventprojectid&&-1<window.rek_vieweventprojectid.toString().indexOf(e.projectid.toString())&&(shouldSaveClickToDatabase=!0),checkAndAddCurrentPageToPath(e);try{shouldSaveClickToDatabase&&1!=saveviewpercentage&&Math.random()>saveviewpercentage&&(shouldSaveClickToDatabase=!1)}catch(e){console.log("rek.ai error in ramdom saveview")}!shouldSaveClickToDatabase||n||sendDataToBackend(e,t,!1,!1)}}}function checkAndCreatePredictions(e){e=e||window.__rekai.customer;var t=document.getElementsByClassName("rek-prediction");if(0<t.length)for(var n=0;n<t.length;n++)firstRemove=!0,predictInternal(e,t[n],{},[],null);else addListenersToLinks(e)}function sendView(){var e=window.__rekai.customer;e.viewevent=!0,checkAndSaveView(e)}function eventAddToSessionPath(e){(new PathHandler).addToSessionPath(getPageId(e),e)}function addEventsToExternalDomains(){for(var e=0;e<externalDomains.length;e++)externalDomains[e].hasOwnProperty("savefilter")&&addEventToOneSaveFilter(externalDomains[e].savefilter)}function addEventsToFragments(){setTimeout(function(){try{for(var e=document.querySelectorAll("[data-rek-item-type]")||[],t=0;t<e.length;t++){var n=e[t];"fragment"==(n.dataset.rekItemType||"")&&n.addEventListener("click",function(e){var t,n,r,e=e.currentTarget||null;e&&(t=e.dataset.rekItemTitle||"",n=e.dataset.rekItemId||"",r=e.dataset.rekItemTarget||"",-1==sentFragmentViews.indexOf(n))&&(sentFragmentViews.push(n),window.__rekai.transformViewParameters=function(e){e.fragment={},e.fragment.itemtype="fragment",e.fragment.itemtitle=t,e.fragment.itemid=n,e.fragment.itemtarget=r},window.__rekai.sendView())})}}catch(e){}},2e3)}function addEventsToEntityFaq(){setTimeout(function(){try{for(var e=document.querySelectorAll(".trigger-rek-entitytype-faq-view")||[],t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();e=this.dataset.rekEntityid;-1==window.__rekai.allClickedFAQs.indexOf(e)&&(window.__rekai.allClickedFAQs.push(e),window.__rekai.entitytype="rekai-faq",window.__rekai.entityid=e,window.__rekai.sendView(),console.log(e))})}catch(e){console.log("rek.ai: "+e)}},1e3)}function cleanUrl(e){var t=e;try{return e.match(/(http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/gi)[0]}catch(e){return t}}function addEventToOneSaveFilter(e){try{var t=RegExp(e,"i"),n=document.querySelectorAll("a");window.rek_vieweventprojectid=window.__rekai.customer.projectid;for(let e=0;e<n.length;e++){var r=n[e];t.test(r.href)&&r.addEventListener("click",function(e){var n=e.target;window.__rekai.transformViewParameters=function(e){e.pn=n.textContent.trim();var t=cleanUrl(n.href);e.url=t},window.__rekai.sendView()})}}catch(e){console.log("rek.ai: "+e)}}function checkURLChangeContinuously(e){var t=cleanLocalPath(getLocationPath());urlChangesArray.push(t)}function automaticallyAddCustomFeatures(e){}function styleInject(e=""){var t,n,r;"undefined"!=typeof document&&(t=cssStyles,n=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css","string"==typeof e&&""!==e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),n.appendChild(r))}var customer={cms:customerCMS,projectid:projectId,page404title:page404title,sendcontentview:sendcontentview,cmsvariant:cmsvariant,viewevent:!1};function init(){styleInject(window.__rekai.nonce);(new VisitCalculator).getVisits(customer,!1),checkForProxySettings(customer),automaticallyAddCustomFeatures(customer),getOrgReferer();checkAndSaveView(customer),checkAndCreatePredictions(customer),addEventsToExternalDomains(),addEventsToFragments(),addEventsToEntityFaq(),addGenericEventTracking(),runFunctions();var e=new Event("rekai.load");window.dispatchEvent(e),checkAndAddEventsToDOM(),checkURLChangeContinuously(customer)}function runFunctions(){if(0<window.__rekai.readyQueue.length)for(let e=0;e<window.__rekai.readyQueue.length;e++)try{window.__rekai.readyQueue[e]()}catch(e){console.error("rek.ai: error in readyQueue "+e)}}function rekcompleted(){window.__rekai.hasRun||(window.__rekai.hasRun=!0,document.removeEventListener("DOMContentLoaded",rekcompleted),window.removeEventListener("load",rekcompleted),init())}"sitevision"==customer.cms&&(linkPreamble="Gå till nyhet om "),window.__rekai=window.__rekai||{},window.__rekai.customer=customer,window.__rekai.buildSendObject=buildSendObject,window.__rekai.getPredictionURLParameters=getPredictionURLParameters,window.__rekai.getParametersFromContainer=getParametersFromContainer,window.__rekai.checkAndCreatePredictions=checkAndCreatePredictions,window.__rekai.sendView=sendView,window.__rekai.addEventsToExternalDomains=addEventsToExternalDomains,window.__rekai.viewSent=!1,window.__rekai.predictionSent=!1,window.__rekai.exitEventSent=!1,window.__rekai.viewHCStatus=!1,window.__rekai.hasAddedToPath=!1,window.__rekai.entitytype="",window.__rekai.entityid="",window.__rekai.allClickedFAQs=[],window.__rekai.allEventSentsFAQs=[],window.__rekai.transformRequestString=window.__rekai.transformRequestString||transformRequestString,window.__rekai.eventAddToSessionPath=eventAddToSessionPath,window.__rekai.addExternalClickToALink=addExternalClickToALink,window.__rekai.addTheEventToLink=addTheEventToLink,window.__rekai.checkAndSaveView=checkAndSaveView,window.__rekai.sendDataToBackend=sendDataToBackend,window.__rekai.predict=predict,window.__rekai.sendPredictDataToBackend=predictInternal,window.__rekai.predictInternal=predictInternal,window.__rekai.rootPathSettings=rootPathSettings,window.__rekai.predictAutocomplete=predictAutocomplete,window.__rekai.sortResult=window.__rekai.sortResult||!1,window.__rekai.renderPredictions=renderPredictions,window.__rekai.checkAndAddEventsToDOM=checkAndAddEventsToDOM,window.__rekai.useconsent=getUseConsent(),window.__rekai.consentaccepted=!1,window.__rekai.blockSaveToSessionStorage=window.__rekai.blockSaveToSessionStorage||!1,window.__rekai.blockSaveToLocalStorage=window.__rekai.blockSaveToLocalStorage||!1,window.__rekai.predictUrl=predictUrl,window.__rekai.viewURL=viewURL,window.__rekai.readyQueue=window.__rekai.readyQueue||[],window.__rekai.ready=function(e){"function"==typeof e&&window.__rekai.readyQueue.push(e)},window.__rekai.content=window.__rekai.content||{},window.__rekai.errorpage=window.__rekai.errorpage||!1,window.__rekai.seed=window.__rekai.seed||"",""==window.__rekai.seed&&void 0!==window.__rekai.appdata&&(window.__rekai.seed=window.__rekai.appdata.seed||""),window.__rekai.templateId=getTemplateId(customer),window.__rekai.sendingAnEvent=sendingAnEvent,window.__rekai.nonce=window.__rekai.nonce||getNonce(),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(rekcompleted):(document.addEventListener("DOMContentLoaded",rekcompleted),window.addEventListener("load",rekcompleted))})();